{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ferna/Documents/HTML/NLW/Aulas/letmeask/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ferna/Documents/HTML/NLW/Aulas/letmeask/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ferna/Documents/HTML/NLW/Aulas/letmeask/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{Link,useHistory}from'react-router-dom';import logoImg from\"../assets/images/logo.svg\";import illustration from\"../assets/images/illustration.svg\";import{Button}from'../components/Button';import{useAuth}from'../hooks/useAuth';import'../styles/auth.scss';import{database}from'../services/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function NewRoom(){var _useAuth=useAuth(),user=_useAuth.user;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newRoom=_useState2[0],setNewRoom=_useState2[1];function handleCreatRoom(_x){return _handleCreatRoom.apply(this,arguments);}function _handleCreatRoom(){_handleCreatRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var roomRef,firebaseRoom;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(newRoom.trim()==='')){_context.next=3;break;}return _context.abrupt(\"return\");case 3:roomRef=database.ref('rooms');_context.next=6;return roomRef.push({title:newRoom,authorId:user===null||user===void 0?void 0:user.id});case 6:firebaseRoom=_context.sent;history.push(\"/rooms/\".concat(firebaseRoom.key));case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleCreatRoom.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{id:\"page-auth\",children:[/*#__PURE__*/_jsxs(\"aside\",{children:[/*#__PURE__*/_jsx(\"img\",{src:illustration,alt:\"Ilustra\\xE7\\xE3o simbolizando perguntas e respostas\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Crie salas de Q&A ao-vivo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tire as d\\xFAvidas da sua audi\\xEAncia em tempo-real\"})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImg,alt:\"letmeask\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Criar uma nova sala\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreatRoom,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nome da Sala\",onChange:function onChange(event){return setNewRoom(event.target.value);},value:newRoom}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Criar Sala\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quer entrar em uma sala existente?\",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"clique aqui\"})]})]})})]});}","map":{"version":3,"sources":["C:/Users/ferna/Documents/HTML/NLW/Aulas/letmeask/src/pages/NewRoom.tsx"],"names":["useState","Link","useHistory","Button","useAuth","database","NewRoom","user","history","newRoom","setNewRoom","handleCreatRoom","event","preventDefault","trim","roomRef","ref","push","title","authorId","id","firebaseRoom","key","illustration","logoImg","target","value"],"mappings":"kfAAA,OAAmBA,QAAnB,KAAkC,OAAlC,CACA,OAAQC,IAAR,CAAcC,UAAd,KAA+B,kBAA/B,C,2GAKA,OAASC,MAAT,KAAuB,sBAAvB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,MAAO,qBAAP,CACA,OAASC,QAAT,KAAyB,sBAAzB,C,wFAEA,MAAO,SAASC,CAAAA,OAAT,EAAkB,cACVF,OAAO,EADG,CACjBG,IADiB,UACjBA,IADiB,CAExB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CAFwB,cAGKF,QAAQ,CAAC,EAAD,CAHb,wCAGjBS,OAHiB,eAGTC,UAHS,uBAKTC,CAAAA,eALS,yJAKxB,iBAA+BC,KAA/B,2IACCA,KAAK,CAACC,cAAN,GADD,KAGKJ,OAAO,CAACK,IAAR,KAAmB,EAHxB,kEAOOC,OAPP,CAOiBV,QAAQ,CAACW,GAAT,CAAa,OAAb,CAPjB,uBAS4BD,CAAAA,OAAO,CAACE,IAAR,CAAa,CACvCC,KAAK,CAAET,OADgC,CAEvCU,QAAQ,CAAEZ,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEa,EAFuB,CAAb,CAT5B,QASOC,YATP,eAcCb,OAAO,CAACS,IAAR,kBAAuBI,YAAY,CAACC,GAApC,GAdD,sDALwB,kDAsBxB,mBACC,aAAK,EAAE,CAAC,WAAR,wBACC,sCACC,YAAK,GAAG,CAAEC,YAAV,CAAwB,GAAG,CAAC,qDAA5B,EADD,cAEC,qDAFD,cAGC,2EAHD,GADD,cAMC,mCAEC,aAAK,SAAS,CAAC,cAAf,wBACC,YAAK,GAAG,CAAEC,OAAV,CAAmB,GAAG,CAAC,UAAvB,EADD,cAEC,2CAFD,cAGC,cAAM,QAAQ,CAAEb,eAAhB,wBACC,cACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,cAFb,CAGC,QAAQ,CAAE,kBAAAC,KAAK,QAAGF,CAAAA,UAAU,CAACE,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAb,EAHhB,CAIC,KAAK,CAAEjB,OAJR,EADD,cAOC,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,wBAPD,GAHD,cAcC,uEAAqC,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,yBAArC,GAdD,GAFD,EAND,GADD,CA4BA","sourcesContent":["import {FormEvent, useState} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\n\r\nimport logoImg from '../assets/images/logo.svg';\r\nimport illustration from '../assets/images/illustration.svg';\r\n\r\nimport { Button } from '../components/Button';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nimport '../styles/auth.scss';\r\nimport { database } from '../services/firebase';\r\n\r\nexport function NewRoom(){\r\n\tconst {user}= useAuth();\r\n\tconst history = useHistory();\r\n\tconst [newRoom,setNewRoom] = useState('');\r\n\r\n\tasync function handleCreatRoom(event: FormEvent){\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (newRoom.trim() === ''){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst roomRef = database.ref('rooms');\r\n\r\n\t\tconst firebaseRoom = await roomRef.push({\r\n\t\t\ttitle: newRoom,\r\n\t\t\tauthorId: user?.id,\r\n\t\t});\r\n\r\n\t\thistory.push(`/rooms/${firebaseRoom.key}`)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"page-auth\">\r\n\t\t\t<aside>\r\n\t\t\t\t<img src={illustration} alt=\"Ilustração simbolizando perguntas e respostas\" />\r\n\t\t\t\t<strong>Crie salas de Q&amp;A ao-vivo</strong>\r\n\t\t\t\t<p>Tire as dúvidas da sua audiência em tempo-real</p>\r\n\t\t\t</aside>\r\n\t\t\t<main>\r\n\t\t\t\t{/*<h1>{value}</h1>*/}\r\n\t\t\t\t<div className=\"main-content\">\r\n\t\t\t\t\t<img src={logoImg} alt=\"letmeask\"/>\r\n\t\t\t\t\t<h2>Criar uma nova sala</h2>\r\n\t\t\t\t\t<form onSubmit={handleCreatRoom}>\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tplaceholder=\"Nome da Sala\"\r\n\t\t\t\t\t\t\tonChange={event=> setNewRoom(event.target.value)}\r\n\t\t\t\t\t\t\tvalue={newRoom}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"submit\">\r\n\t\t\t\t\t\t\t\tCriar Sala\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<p>Quer entrar em uma sala existente?<Link to=\"/\">clique aqui</Link></p>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}"]},"metadata":{},"sourceType":"module"}